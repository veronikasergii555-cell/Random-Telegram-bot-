        <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–ø—á–∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: Arial, sans-serif;
            background: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 10px;
        }

        .game-container {
            width: 100%;
            max-width: 400px;
            height: 500px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
        }

        /* –í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å - –∫–æ—Ä–∑–∏–Ω—ã */
        .baskets {
            height: 120px;
            background: #e3f2fd;
            display: flex;
            justify-content: space-around;
            align-items: center;
            padding: 10px;
        }

        .basket {
            width: 90px;
            height: 80px;
            background: white;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 3px solid #bbdefb;
            position: relative;
        }

        .basket.highlight {
            border-color: #4CAF50;
            background: #f1f8e9;
        }

        .basket-icon {
            font-size: 32px;
            margin-bottom: 5px;
        }

        .basket-label {
            font-size: 12px;
            font-weight: bold;
            color: #333;
        }

        /* –û–±–ª–∞—Å—Ç—å –¥–ª—è —Ñ—Ä—É–∫—Ç–æ–≤ - —Ç–µ–ø–µ—Ä—å –æ–Ω–∞ –í–ö–õ–Æ–ß–ê–ï–¢ –∏ –∫–æ—Ä–∑–∏–Ω—ã! */
        .game-area {
            height: 380px;
            position: relative;
            background: #f8f9fa;
        }

        /* –ó–æ–Ω–∞, –∫—É–¥–∞ –º–æ–∂–Ω–æ –±—Ä–æ—Å–∞—Ç—å —Ñ—Ä—É–∫—Ç—ã - –í–°–Ø –í–ï–†–•–ù–Ø–Ø –ß–ê–°–¢–¨ */
        .drop-zone {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 120px; /* –¢–∞–∫–∞—è –∂–µ –≤—ã—Å–æ—Ç–∞ –∫–∞–∫ —É baskets */
            z-index: 5;
        }

        .fruit {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            cursor: grab;
            z-index: 10;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
            transition: transform 0.1s;
        }

        .fruit:active {
            cursor: grabbing;
            transform: scale(1.1);
            z-index: 100;
        }

        .fruit.placed {
            cursor: default;
            opacity: 0.7;
            transform: scale(0.9);
        }

        .apple { background: #ffebee; }
        .banana { background: #fffde7; }
        .grapes { background: #f3e5f5; }
        .orange { background: #fff3e0; }

        /* –°–æ–æ–±—â–µ–Ω–∏–µ */
        .message {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 14px;
            color: #666;
            padding: 5px;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="baskets">
            <div class="basket" data-type="üçé" id="apple-basket">
                <div class="basket-icon">üçé</div>
                <div class="basket-label">–Ø–±–ª–æ–∫–∏</div>
            </div>
            <div class="basket" data-type="üçå" id="banana-basket">
                <div class="basket-icon">üçå</div>
                <div class="basket-label">–ë–∞–Ω–∞–Ω—ã</div>
            </div>
            <div class="basket" data-type="üçá" id="grapes-basket">
                <div class="basket-icon">üçá</div>
                <div class="basket-label">–í–∏–Ω–æ–≥—Ä–∞–¥</div>
            </div>
        </div>

        <div class="game-area" id="game-area">
            <!-- –ù–µ–≤–∏–¥–∏–º–∞—è –∑–æ–Ω–∞ –¥–ª—è –¥—Ä–æ–ø–∞ –Ω–∞–¥ –∫–æ—Ä–∑–∏–Ω–∞–º–∏ -->
            <div class="drop-zone" id="drop-zone"></div>
            
            <!-- –§—Ä—É–∫—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º -->
        </div>

        <div class="message" id="message">
            –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ—Ä—É–∫—Ç—ã –≤ –Ω—É–∂–Ω—ã–µ –∫–æ—Ä–∑–∏–Ω—ã
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gameArea = document.getElementById('game-area');
            const dropZone = document.getElementById('drop-zone');
            const message = document.getElementById('message');
            const baskets = document.querySelectorAll('.basket');
            
            // –°–æ–∑–¥–∞–µ–º —Ñ—Ä—É–∫—Ç—ã - –Ω–∞—á–∏–Ω–∞–µ–º –∏—Ö –ù–ò–ñ–ï –∫–æ—Ä–∑–∏–Ω
            const fruits = [
                { type: 'üçé', class: 'apple', id: 'apple1', x: 50, y: 150 },
                { type: 'üçå', class: 'banana', id: 'banana1', x: 150, y: 150 },
                { type: 'üçá', class: 'grapes', id: 'grapes1', x: 250, y: 150 },
                { type: 'üçé', class: 'apple', id: 'apple2', x: 100, y: 250 },
                { type: 'üçå', class: 'banana', id: 'banana2', x: 200, y: 250 },
                { type: 'üçä', class: 'orange', id: 'orange1', x: 50, y: 300 }
            ];
            
            let draggedFruit = null;
            let placedCount = 0;
            const totalFruits = fruits.length;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ñ—Ä—É–∫—Ç—ã –Ω–∞ –ø–æ–ª–µ
            fruits.forEach(fruitData => {
                const fruit = document.createElement('div');
                fruit.className = `fruit ${fruitData.class}`;
                fruit.id = fruitData.id;
                fruit.dataset.type = fruitData.type;
                fruit.textContent = fruitData.type;
                fruit.style.left = `${fruitData.x}px`;
                fruit.style.top = `${fruitData.y}px`;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
                fruit.dataset.originalX = fruitData.x;
                fruit.dataset.originalY = fruitData.y;
                
                gameArea.appendChild(fruit);
                
                // –°–æ–±—ã—Ç–∏—è –¥–ª—è –º—ã—à–∏
                fruit.addEventListener('mousedown', startDrag);
                
                // –°–æ–±—ã—Ç–∏—è –¥–ª—è —Ç–∞—á-—É—Å—Ç—Ä–æ–π—Å—Ç–≤
                fruit.addEventListener('touchstart', (e) => {
                    e.preventDefault();
                    startDrag(e);
                });
            });
            
            function startDrag(e) {
                const fruit = e.target.closest('.fruit');
                if (!fruit || fruit.classList.contains('placed')) return;
                
                draggedFruit = fruit;
                
                // –ü–æ–ª—É—á–∞–µ–º –ø–æ–∑–∏—Ü–∏—é –∫–ª–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏ —Ñ—Ä—É–∫—Ç–∞
                let clientX, clientY;
                if (e.type === 'mousedown') {
                    clientX = e.clientX;
                    clientY = e.clientY;
                } else {
                    clientX = e.touches[0].clientX;
                    clientY = e.touches[0].clientY;
                }
                
                const fruitRect = fruit.getBoundingClientRect();
                const offsetX = clientX - fruitRect.left;
                const offsetY = clientY - fruitRect.top;
                
                function moveAt(x, y) {
                    // –í–ê–ñ–ù–û: —Ä–∞–∑—Ä–µ—à–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ –í–ï–ó–î–ï, –≤–∫–ª—é—á–∞—è –∑–æ–Ω—É –∫–æ—Ä–∑–∏–Ω
                    const areaRect = gameArea.getBoundingClientRect();
                    
                    let newX = x - offsetX - areaRect.left;
                    let newY = y - offsetY - areaRect.top;
                    
                    // –ì—Ä–∞–Ω–∏—Ü—ã –í–°–ï–ô –∏–≥—Ä–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏
                    const maxX = areaRect.width - 60;
                    const maxY = areaRect.height - 60;
                    
                    // –†–∞–∑—Ä–µ—à–∞–µ–º –¥–≤–∏–∂–µ–Ω–∏–µ –¥–∞–∂–µ –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ Y
                    // —á—Ç–æ–±—ã —Ñ—Ä—É–∫—Ç—ã –º–æ–≥–ª–∏ –∑–∞—Ö–æ–¥–∏—Ç—å –≤ –∑–æ–Ω—É –∫–æ—Ä–∑–∏–Ω
                    newX = Math.max(0, Math.min(newX, maxX));
                    newY = Math.max(-60, Math.min(newY, maxY)); // -60 —á—Ç–æ–±—ã –º–æ–≥–ª–∏ –∑–∞—Ö–æ–¥–∏—Ç—å –≤–≤–µ—Ä—Ö
                    
                    fruit.style.left = `${newX}px`;
                    fruit.style.top = `${newY}px`;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–∞—Ö–æ–¥–∏–º—Å—è –ª–∏ –º—ã –Ω–∞–¥ –∫–æ—Ä–∑–∏–Ω–æ–π
                    checkBasketOverlap(fruit);
                }
                
                function onMouseMove(e) {
                    if (!draggedFruit) return;
                    
                    if (e.type === 'mousemove') {
                        moveAt(e.clientX, e.clientY);
                    } else if (e.type === 'touchmove') {
                        e.preventDefault();
                        moveAt(e.touches[0].clientX, e.touches[0].clientY);
                    }
                }
                
                function onMouseUp() {
                    if (!draggedFruit) return;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–ø–∞–ª–∏ –ª–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É
                    checkDrop();
                    
                    // –£–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);
                    document.removeEventListener('touchmove', onMouseMove);
                    document.removeEventListener('touchend', onMouseUp);
                    
                    // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É
                    baskets.forEach(basket => basket.classList.remove('highlight'));
                    
                    draggedFruit = null;
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
                document.addEventListener('touchmove', onMouseMove, { passive: false });
                document.addEventListener('touchend', onMouseUp);
            }
            
            function checkBasketOverlap(fruit) {
                if (!fruit) return;
                
                const fruitRect = fruit.getBoundingClientRect();
                const fruitCenterX = fruitRect.left + fruitRect.width / 2;
                const fruitCenterY = fruitRect.top + fruitRect.height / 2;
                
                // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–æ –≤—Å–µ—Ö –∫–æ—Ä–∑–∏–Ω
                baskets.forEach(basket => basket.classList.remove('highlight'));
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é –∫–æ—Ä–∑–∏–Ω—É
                baskets.forEach(basket => {
                    const basketRect = basket.getBoundingClientRect();
                    
                    // –ï—Å–ª–∏ —Ü–µ–Ω—Ç—Ä —Ñ—Ä—É–∫—Ç–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ—Ä–∑–∏–Ω—ã
                    if (
                        fruitCenterX > basketRect.left &&
                        fruitCenterX < basketRect.right &&
                        fruitCenterY > basketRect.top &&
                        fruitCenterY < basketRect.bottom
                    ) {
                        // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º, –µ—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
                        if (fruit.dataset.type === basket.dataset.type) {
                            basket.classList.add('highlight');
                        }
                    }
                });
            }
            
            function checkDrop() {
                if (!draggedFruit) return;
                
                const fruitRect = draggedFruit.getBoundingClientRect();
                const fruitCenterX = fruitRect.left + fruitRect.width / 2;
                const fruitCenterY = fruitRect.top + fruitRect.height / 2;
                let placed = false;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—É—é –∫–æ—Ä–∑–∏–Ω—É
                baskets.forEach(basket => {
                    const basketRect = basket.getBoundingClientRect();
                    
                    // –ï—Å–ª–∏ —Ü–µ–Ω—Ç—Ä —Ñ—Ä—É–∫—Ç–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ
                    if (
                        fruitCenterX > basketRect.left &&
                        fruitCenterX < basketRect.right &&
                        fruitCenterY > basketRect.top &&
                        fruitCenterY < basketRect.bottom
                    ) {
                        // –ï—Å–ª–∏ –∫–æ—Ä–∑–∏–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è
                        if (draggedFruit.dataset.type === basket.dataset.type) {
                            // –†–∞–∑–º–µ—â–∞–µ–º —Ñ—Ä—É–∫—Ç
                            placeFruitInBasket(draggedFruit, basket);
                            placed = true;
                        }
                    }
                });
                
                // –ï—Å–ª–∏ –Ω–µ —Ä–∞–∑–º–µ—Å—Ç–∏–ª–∏ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –º–µ—Å—Ç–æ
                if (!placed && !draggedFruit.classList.contains('placed')) {
                    draggedFruit.style.left = `${draggedFruit.dataset.originalX}px`;
                    draggedFruit.style.top = `${draggedFruit.dataset.originalY}px`;
                }
            }
            
            function placeFruitInBasket(fruit, basket) {
                if (fruit.classList.contains('placed')) return;
                
                // –ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã–π
                fruit.classList.add('placed');
                fruit.style.cursor = 'default';
                
                // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º –ø—Ä—è–º–æ –ù–ê–î –∫–æ—Ä–∑–∏–Ω–æ–π (–≤–Ω—É—Ç—Ä–∏ –≥–æ–ª—É–±–æ–π –∑–æ–Ω—ã)
                const basketRect = basket.getBoundingClientRect();
                const areaRect = gameArea.getBoundingClientRect();
                
                // –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –Ω–∞–¥ –∫–æ—Ä–∑–∏–Ω–æ–π, –Ω–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏
                const x = basketRect.left - areaRect.left + (basketRect.width / 2) - 30;
                const y = basketRect.top - areaRect.top + 20; // –ù–µ–º–Ω–æ–≥–æ –Ω–∏–∂–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ –∫—Ä–∞—è –∫–æ—Ä–∑–∏–Ω—ã
                
                fruit.style.left = `${x}px`;
                fruit.style.top = `${y}px`;
                fruit.style.transition = 'all 0.3s ease';
                fruit.style.zIndex = '20'; // –ß—Ç–æ–±—ã –±—ã–ª –ø–æ–≤–µ—Ä—Ö –∫–æ—Ä–∑–∏–Ω—ã
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫
                placedCount++;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                message.textContent = `–†–∞–∑–º–µ—â–µ–Ω–æ: ${placedCount} –∏–∑ ${totalFruits}`;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ
                if (placedCount === totalFruits) {
                    message.textContent = '‚úÖ –ö–∞–ø—á–∞ –ø—Ä–æ–π–¥–µ–Ω–∞!';
                    message.style.color = '#4CAF50';
                    message.style.fontWeight = 'bold';
                    
                    // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram Mini App
                    setTimeout(() => {
                        if (window.Telegram && window.Telegram.WebApp) {
                            window.Telegram.WebApp.sendData(JSON.stringify({
                                captcha_passed: true
                            }));
                        }
                    }, 1000);
                }
            }
            
            // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            message.textContent = `–†–∞–∑–º–µ—â–µ–Ω–æ: ${placedCount} –∏–∑ ${totalFruits}`;
        });
    </script>
</body>
</html>
