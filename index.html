<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–§—Ä—É–∫—Ç–æ–≤–∞—è –∫–∞–ø—á–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            touch-action: none;
        }

        .container {
            width: 100%;
            max-width: 500px;
            background-color: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            padding: 25px;
        }

        .header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .header h1 {
            color: #2d3436;
            font-size: 24px;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .header p {
            color: #636e72;
            font-size: 16px;
        }

        .instructions {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 25px;
            border-left: 4px solid #6c5ce7;
        }

        .instructions p {
            color: #2d3436;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .instructions i {
            color: #6c5ce7;
        }

        .game-area {
            position: relative;
            width: 100%;
            height: 350px;
            border-radius: 15px;
            background-color: #f8f9fa;
            overflow: hidden;
            margin-bottom: 25px;
            border: 2px dashed #dfe6e9;
        }

        .baskets-container {
            display: flex;
            justify-content: space-around;
            padding: 20px 10px;
            background-color: #e3f2fd;
            border-bottom: 2px solid #bbdefb;
        }

        .basket {
            width: 100px;
            height: 90px;
            background-color: white;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            border: 3px solid #bbdefb;
            transition: all 0.3s ease;
            position: relative;
        }

        .basket.highlight {
            border-color: #4caf50;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.3);
            background-color: #f1f8e9;
        }

        .basket-icon {
            font-size: 32px;
            margin-bottom: 5px;
        }

        .basket-label {
            font-size: 13px;
            font-weight: 600;
            color: #37474f;
            background-color: #e3f2fd;
            padding: 3px 8px;
            border-radius: 10px;
        }

        .fruits-container {
            position: relative;
            width: 100%;
            height: 200px;
            padding: 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }

        .fruit {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            cursor: grab;
            position: absolute;
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.2s, box-shadow 0.2s;
            z-index: 10;
        }

        .fruit:active {
            cursor: grabbing;
            transform: scale(1.1);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15);
            z-index: 100;
        }

        .fruit.placed {
            cursor: default;
            opacity: 0.7;
            transform: scale(0.9);
        }

        .fruit.apple { background-color: #ffebee; color: #d32f2f; }
        .fruit.banana { background-color: #fffde7; color: #fbc02d; }
        .fruit.grapes { background-color: #f3e5f5; color: #7b1fa2; }
        .fruit.orange { background-color: #fff3e0; color: #f57c00; }

        .message {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            opacity: 0;
            transition: opacity 0.5s;
            min-height: 55px;
        }

        .message.success {
            background-color: #e8f5e9;
            color: #2e7d32;
            opacity: 1;
        }

        .message.error {
            background-color: #ffebee;
            color: #c62828;
            opacity: 1;
        }

        .message.info {
            background-color: #e3f2fd;
            color: #1565c0;
            opacity: 1;
        }

        .reset-btn {
            display: block;
            margin: 20px auto 0;
            padding: 12px 30px;
            background-color: #6c5ce7;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
        }

        .reset-btn:hover {
            background-color: #5b4fcf;
            transform: translateY(-2px);
            box-shadow: 0 7px 18px rgba(108, 92, 231, 0.4);
        }

        .counter {
            text-align: center;
            margin-top: 10px;
            color: #636e72;
            font-size: 14px;
        }

        @media (max-width: 500px) {
            .container {
                padding: 20px;
            }
            
            .game-area {
                height: 320px;
            }
            
            .basket {
                width: 85px;
                height: 80px;
            }
            
            .fruit {
                width: 60px;
                height: 60px;
                font-size: 35px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-gamepad"></i> –§—Ä—É–∫—Ç–æ–≤–∞—è –∫–∞–ø—á–∞</h1>
            <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ—Ä—É–∫—Ç—ã –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ—Ä–∑–∏–Ω—ã</p>
        </div>
        
        <div class="instructions">
            <p><i class="fas fa-info-circle"></i> –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫–∞–∂–¥—ã–π —Ñ—Ä—É–∫—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É —Å —Ç–∞–∫–∏–º –∂–µ —Ñ—Ä—É–∫—Ç–æ–º</p>
        </div>
        
        <div class="game-area">
            <div class="baskets-container">
                <div class="basket" data-type="üçé" id="apple-basket">
                    <div class="basket-icon">üçé</div>
                    <div class="basket-label">–î–ª—è —è–±–ª–æ–∫</div>
                </div>
                <div class="basket" data-type="üçå" id="banana-basket">
                    <div class="basket-icon">üçå</div>
                    <div class="basket-label">–î–ª—è –±–∞–Ω–∞–Ω–æ–≤</div>
                </div>
                <div class="basket" data-type="üçá" id="grapes-basket">
                    <div class="basket-icon">üçá</div>
                    <div class="basket-label">–î–ª—è –≤–∏–Ω–æ–≥—Ä–∞–¥–∞</div>
                </div>
            </div>
            
            <div class="fruits-container" id="fruits-container">
                <div class="fruit apple" data-type="üçé" id="apple1">üçé</div>
                <div class="fruit banana" data-type="üçå" id="banana1">üçå</div>
                <div class="fruit grapes" data-type="üçá" id="grapes1">üçá</div>
                <div class="fruit apple" data-type="üçé" id="apple2">üçé</div>
                <div class="fruit orange" data-type="üçä" id="orange1">üçä</div>
                <div class="fruit banana" data-type="üçå" id="banana2">üçå</div>
            </div>
        </div>
        
        <div class="counter">
            –†–∞–∑–º–µ—â–µ–Ω–æ: <span id="placed-count">0</span> –∏–∑ <span id="total-count">6</span> —Ñ—Ä—É–∫—Ç–æ–≤
        </div>
        
        <div class="message" id="message">
            –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ—Ä—É–∫—Ç—ã –≤ –∫–æ—Ä–∑–∏–Ω—ã
        </div>
        
        <button class="reset-btn" id="reset-btn">
            <i class="fas fa-redo-alt"></i> –ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
        </button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
            const fruits = document.querySelectorAll('.fruit');
            const baskets = document.querySelectorAll('.basket');
            const fruitsContainer = document.getElementById('fruits-container');
            const message = document.getElementById('message');
            const resetBtn = document.getElementById('reset-btn');
            const placedCountEl = document.getElementById('placed-count');
            const totalCountEl = document.getElementById('total-count');
            
            // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            let draggedFruit = null;
            let initialPositions = new Map();
            let placedFruits = 0;
            const totalFruits = fruits.length;
            let isCompleted = false;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
            totalCountEl.textContent = totalFruits;
            updateMessage('info', '–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ—Ä—É–∫—Ç—ã –≤ –∫–æ—Ä–∑–∏–Ω—ã');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —Ñ—Ä—É–∫—Ç–æ–≤
            fruits.forEach(fruit => {
                initialPositions.set(fruit.id, {
                    left: fruit.style.left || `${getRandomPosition().x}px`,
                    top: fruit.style.top || `${getRandomPosition().y}px`
                });
                
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
                if (!fruit.style.left || !fruit.style.top) {
                    const pos = getRandomPosition();
                    fruit.style.left = `${pos.x}px`;
                    fruit.style.top = `${pos.y}px`;
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –º—ã—à–∏
                fruit.addEventListener('mousedown', startDrag);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                fruit.addEventListener('touchstart', startDragTouch, { passive: false });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–æ—Ä–∑–∏–Ω
            baskets.forEach(basket => {
                basket.addEventListener('dragover', allowDrop);
                basket.addEventListener('drop', handleDrop);
                
                // –î–ª—è —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
                basket.addEventListener('touchmove', handleTouchMove, { passive: false });
                basket.addEventListener('touchend', handleTouchEnd);
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ —Å–±—Ä–æ—Å–∞
            resetBtn.addEventListener('click', resetGame);
            
            // –§—É–Ω–∫—Ü–∏–∏
            function getRandomPosition() {
                const containerWidth = fruitsContainer.offsetWidth;
                const containerHeight = fruitsContainer.offsetHeight;
                const fruitSize = 70;
                
                return {
                    x: Math.floor(Math.random() * (containerWidth - fruitSize)),
                    y: Math.floor(Math.random() * (containerHeight - fruitSize))
                };
            }
            
            function startDrag(e) {
                e.preventDefault();
                draggedFruit = this;
                
                // –ü–æ–¥–Ω–∏–º–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–¥ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏
                draggedFruit.style.zIndex = '1000';
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–º–µ—â–µ–Ω–∏–µ –∫—É—Ä—Å–æ—Ä–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —ç–ª–µ–º–µ–Ω—Ç–∞
                const shiftX = e.clientX - draggedFruit.getBoundingClientRect().left;
                const shiftY = e.clientY - draggedFruit.getBoundingClientRect().top;
                
                function moveAt(pageX, pageY) {
                    const containerRect = fruitsContainer.getBoundingClientRect();
                    
                    // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
                    let newX = pageX - shiftX - containerRect.left;
                    let newY = pageY - shiftY - containerRect.top;
                    
                    // –ì—Ä–∞–Ω–∏—Ü—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
                    const maxX = containerRect.width - draggedFruit.offsetWidth;
                    const maxY = containerRect.height - draggedFruit.offsetHeight;
                    
                    newX = Math.max(0, Math.min(newX, maxX));
                    newY = Math.max(0, Math.min(newY, maxY));
                    
                    draggedFruit.style.left = newX + 'px';
                    draggedFruit.style.top = newY + 'px';
                }
                
                function onMouseMove(e) {
                    moveAt(e.pageX, e.pageY);
                    
                    // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ—Ä–∑–∏–Ω—É
                    const fruitType = draggedFruit.dataset.type;
                    baskets.forEach(basket => {
                        if (basket.dataset.type === fruitType) {
                            basket.classList.add('highlight');
                        } else {
                            basket.classList.remove('highlight');
                        }
                    });
                }
                
                function onMouseUp() {
                    document.removeEventListener('mousemove', onMouseMove);
                    document.removeEventListener('mouseup', onMouseUp);
                    
                    // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–æ –≤—Å–µ—Ö –∫–æ—Ä–∑–∏–Ω
                    baskets.forEach(basket => basket.classList.remove('highlight'));
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–ø–∞–ª –ª–∏ —Ñ—Ä—É–∫—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É
                    checkBasketDrop();
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π z-index
                    if (!draggedFruit.classList.contains('placed')) {
                        draggedFruit.style.zIndex = '10';
                    }
                    
                    draggedFruit = null;
                }
                
                document.addEventListener('mousemove', onMouseMove);
                document.addEventListener('mouseup', onMouseUp);
            }
            
            // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            function startDragTouch(e) {
                e.preventDefault();
                draggedFruit = this;
                
                // –ü–æ–¥–Ω–∏–º–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç –Ω–∞–¥ –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏
                draggedFruit.style.zIndex = '1000';
                
                const touch = e.touches[0];
                const shiftX = touch.clientX - draggedFruit.getBoundingClientRect().left;
                const shiftY = touch.clientY - draggedFruit.getBoundingClientRect().top;
                
                function moveAt(pageX, pageY) {
                    const containerRect = fruitsContainer.getBoundingClientRect();
                    
                    let newX = pageX - shiftX - containerRect.left;
                    let newY = pageY - shiftY - containerRect.top;
                    
                    const maxX = containerRect.width - draggedFruit.offsetWidth;
                    const maxY = containerRect.height - draggedFruit.offsetHeight;
                    
                    newX = Math.max(0, Math.min(newX, maxX));
                    newY = Math.max(0, Math.min(newY, maxY));
                    
                    draggedFruit.style.left = newX + 'px';
                    draggedFruit.style.top = newY + 'px';
                }
                
                function onTouchMove(e) {
                    e.preventDefault();
                    const touch = e.touches[0];
                    moveAt(touch.pageX, touch.pageY);
                    
                    // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –∫–æ—Ä–∑–∏–Ω—É
                    const fruitType = draggedFruit.dataset.type;
                    baskets.forEach(basket => {
                        if (basket.dataset.type === fruitType) {
                            basket.classList.add('highlight');
                        } else {
                            basket.classList.remove('highlight');
                        }
                    });
                }
                
                function onTouchEnd() {
                    document.removeEventListener('touchmove', onTouchMove);
                    document.removeEventListener('touchend', onTouchEnd);
                    
                    // –£–±–∏—Ä–∞–µ–º –ø–æ–¥—Å–≤–µ—Ç–∫—É —Å–æ –≤—Å–µ—Ö –∫–æ—Ä–∑–∏–Ω
                    baskets.forEach(basket => basket.classList.remove('highlight'));
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–ø–∞–ª –ª–∏ —Ñ—Ä—É–∫—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É
                    checkBasketDrop();
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π z-index
                    if (!draggedFruit.classList.contains('placed')) {
                        draggedFruit.style.zIndex = '10';
                    }
                    
                    draggedFruit = null;
                }
                
                document.addEventListener('touchmove', onTouchMove, { passive: false });
                document.addEventListener('touchend', onTouchEnd);
            }
            
            function handleTouchMove(e) {
                e.preventDefault();
            }
            
            function handleTouchEnd() {
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è —Å–µ–Ω—Å–æ—Ä–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
            }
            
            function allowDrop(e) {
                e.preventDefault();
            }
            
            function handleDrop(e) {
                e.preventDefault();
                if (draggedFruit) {
                    const fruitType = draggedFruit.dataset.type;
                    const basketType = this.dataset.type;
                    
                    if (fruitType === basketType) {
                        placeFruitInBasket(draggedFruit, this);
                    }
                }
            }
            
            function checkBasketDrop() {
                if (!draggedFruit) return;
                
                const fruitRect = draggedFruit.getBoundingClientRect();
                const fruitType = draggedFruit.dataset.type;
                let placed = false;
                
                baskets.forEach(basket => {
                    const basketRect = basket.getBoundingClientRect();
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —Ñ—Ä—É–∫—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π
                    if (
                        fruitRect.left < basketRect.right &&
                        fruitRect.right > basketRect.left &&
                        fruitRect.top < basketRect.bottom &&
                        fruitRect.bottom > basketRect.top
                    ) {
                        if (fruitType === basket.dataset.type) {
                            placeFruitInBasket(draggedFruit, basket);
                            placed = true;
                        }
                    }
                });
                
                if (!placed && !draggedFruit.classList.contains('placed')) {
                    // –ï—Å–ª–∏ —Ñ—Ä—É–∫—Ç –Ω–µ —Ä–∞–∑–º–µ—â–µ–Ω, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –Ω–∞ –∏—Å—Ö–æ–¥–Ω—É—é –ø–æ–∑–∏—Ü–∏—é
                    const initialPos = initialPositions.get(draggedFruit.id);
                    draggedFruit.style.left = initialPos.left;
                    draggedFruit.style.top = initialPos.top;
                }
            }
            
            function placeFruitInBasket(fruit, basket) {
                if (fruit.classList.contains('placed')) return;
                
                // –ü–æ–º–µ—á–∞–µ–º —Ñ—Ä—É–∫—Ç –∫–∞–∫ —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã–π
                fruit.classList.add('placed');
                fruit.style.cursor = 'default';
                
                // –†–∞–∑–º–µ—â–∞–µ–º —Ñ—Ä—É–∫—Ç –Ω–∞–¥ –∫–æ—Ä–∑–∏–Ω–æ–π
                const basketRect = basket.getBoundingClientRect();
                const containerRect = fruitsContainer.getBoundingClientRect();
                
                const x = basketRect.left - containerRect.left + (basketRect.width / 2) - (fruit.offsetWidth / 2);
                const y = basketRect.top - containerRect.top - 20;
                
                fruit.style.left = `${x}px`;
                fruit.style.top = `${y}px`;
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ —Ä–∞–∑–º–µ—â–µ–Ω–Ω—ã—Ö —Ñ—Ä—É–∫—Ç–æ–≤
                placedFruits++;
                placedCountEl.textContent = placedFruits;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –≤—Å–µ –ª–∏ —Ñ—Ä—É–∫—Ç—ã —Ä–∞–∑–º–µ—â–µ–Ω—ã
                checkCompletion();
            }
            
            function checkCompletion() {
                if (placedFruits === totalFruits && !isCompleted) {
                    isCompleted = true;
                    updateMessage('success', 'üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –ö–∞–ø—á–∞ –ø—Ä–æ–π–¥–µ–Ω–∞!');
                    
                    // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ Telegram Mini App
                    // –ù–∞–ø—Ä–∏–º–µ—Ä: Telegram.WebApp.sendData(JSON.stringify({captcha_passed: true}));
                    
                    // –ß–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å
                    setTimeout(() => {
                        // Telegram.WebApp.close();
                        // –∏–ª–∏ –¥—Ä—É–≥–æ–π –∫–æ–¥ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –¥–∞–ª—å—à–µ
                    }, 2000);
                }
            }
            
            function updateMessage(type, text) {
                message.className = 'message';
                message.classList.add(type);
                message.innerHTML = `<i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i> ${text}`;
            }
            
            function resetGame() {
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ —Ñ—Ä—É–∫—Ç—ã
                fruits.forEach(fruit => {
                    fruit.classList.remove('placed');
                    fruit.style.cursor = 'grab';
                    
                    const initialPos = initialPositions.get(fruit.id);
                    fruit.style.left = initialPos.left;
                    fruit.style.top = initialPos.top;
                    fruit.style.zIndex = '10';
                });
                
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫–∏
                placedFruits = 0;
                placedCountEl.textContent = placedFruits;
                isCompleted = false;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
                updateMessage('info', '–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ—Ä—É–∫—Ç—ã –≤ –∫–æ—Ä–∑–∏–Ω—ã');
            }
        });
    </script>
</body>
</html>
